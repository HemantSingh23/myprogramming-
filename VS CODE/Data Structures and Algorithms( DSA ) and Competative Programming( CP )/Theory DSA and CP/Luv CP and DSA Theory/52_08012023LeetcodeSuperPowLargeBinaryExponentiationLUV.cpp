



/* 
// leetcode Question ==>


   https://leetcode.com/problems/super-pow/


*/


/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
// // Formula of ETF value ==> 
//
//  if n is any number the ->
//
//   Φ(n) = n * ∏ (1 - 1/p )  // p is all distict prime factors of n
//
//    here ∏ (Pi) it is product symbol like Sum symbol Sigma( ∑ )
//         ∏ (Pi) it means product of all numbers
//
//  if n is prime then ->
//
//     Φ(n) = n - 1    
// 
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//
// // Euler's Theorem ==>
//
//  if M is any number then ->
//
//      (a^b) %M   ==   [a ^ (b % Φ(M) ) ] % M
//                
//              
//  if M is prime then ->
//                    
//      (a^b) %M   ==   [a ^ (b % (M-1) ) ] % M
//                     
//     because if n or M is prime then   Φ(n) = n - 1 
//
//
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


/* 
// leetcode Question ==>


   https://leetcode.com/problems/super-pow/


*/

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
// as given in the question we want to find (a^b) %m  where m is 1337
//
// so here m is not prime because 1337 = 7 * 191  and 
// and 7 and 191 is prime so 1337 has factor 7 and 191 only 
//
//
// so for calculation  (a^b) %m  == [a ^ (b % Φ(m) ) ] % m 
//
// so first we need to find out Φ(m) = Φ(1337)
//
//     Φ(m)    =  n * ∏ (1 - 1/p )
//    Φ(1337)  =  1337 * (1 - 1/7) * (1 - 1/191)
//    Φ(1337)  =  1337 * (6/7) * (190/191)
//    Φ(1337)  =  1337 * (6 * 190)/(7 * 191)
//    Φ(1337)  =  1337 * (6 * 190)/(1337)
//    Φ(1337)  =  (6 * 190)
//    Φ(1337)  =  1140
//
//
// so
//
// (a^b) %m  == [a ^ (b % Φ(m) ) ] % m 
// (a^b) %1337  == [a ^ (b % 1140 ) ] % 1337 
//
// now we need to find  (b % 1140)
//
//
// lets take the example 3 of leetcode question
// here Input: a = 1, b = [4,3,3,8,5,2]
//
// [4,3,3,8,5,2] it means  433852 
//
//  [433852]   %  1140
//  [4*10^5 + 3*10^4 + 3*10^3 + 8*10^2 + 5*10^1 + 2*10^0] % 1140
//  [4*10^5 % 1140  +  3*10^4 % 1140  +  3*10^3 % 1140  +  8*10^2 % 1140  +  5*10^1 % 1140  +  2*10^0 % 1140 ] %  1140
//  
// and after doing this we can find  (b % 1140) and then we can 
// easily find the  (a^b) %m
//  
//
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//
//
//


/* 
// leetcode Question ==>


   https://leetcode.com/problems/super-pow/


*/


#include<bits/stdc++.h>
using namespace std;

int binExpIter(int a , int b , int  m )
{
    a %= m ;
    int ans = 1;
    while(b>0)
    {
        if(b&1) ans = (ans * 1LL * a) %m ;
        a = (a * 1LL * a)%m;
        b>>=1;
    }
    return ans;
}

int superPow(int a, vector<int>& b)
{
    int n = b.size();
    int bMod = 0;
    for(int i =0 ; i<n; i++)
    {
        bMod = ( bMod*10 + b[i]) % 1140 ;
    }
    return binExpIter(a , bMod , 1337) ;
}

int main()
{
    int a ;  cin>>a;
    vector<int> b(2) ;
    for(int i =0 ; i<2; i++)
    {
        cin>>b[i];
    }
    cout<<superPow(a, b)<<endl;

}

















